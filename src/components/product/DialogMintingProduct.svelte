<script lang="ts">
  import Dialog, { Title, Content, Actions } from '@smui/dialog';
  import Button, { Label } from '@smui/button';
  import { routes } from '$lib/routes';

  export let open: boolean = false,
    accountAddress: string | null = null;
</script>

<Dialog
  bind:open
  scrimClickAction=""
  escapeKeyAction=""
  aria-labelledby="mandatory-title"
  aria-describedby="mandatory-content"
  surface$style="width: 500px; max-width: calc(100vw - 32px);"
>
  <Title id="mandatory-title">ìƒí’ˆ ë“±ë¡ ì¤‘ ğŸ¤–</Title>
  <Content id="mandatory-content">
    <h3>ì´ë”ë¦¬ì›€ ë¸”ë¡ì²´ì¸ì— ìƒˆë¡œìš´ ìƒí’ˆì„ ì¶”ê°€ ì¤‘ ì…ë‹ˆë‹¤..</h3>
    <div class="loading-video-container">
      <video
        src="/mining-simpsons.mp4"
        autoplay
        loop
        muted
        playsInline
        webkit-playsInline
        class="loading-video"
      >
        <track kind="captions" />
      </video>
    </div>
  </Content>
  <Actions>
    {#if accountAddress}
      <Button href={routes.product.my(accountAddress)}>
        <Label>ë‚´ ìƒí’ˆìœ¼ë¡œ ì´ë™</Label>
      </Button>
    {/if}
  </Actions>
</Dialog>

<style>
  .loading-video-container {
    display: flex;
    justify-content: center;
  }
  .loading-video {
    width: 400px;
  }
</style>
