<script lang="ts">
  import Dialog, { Title, Content, Actions } from '@smui/dialog';
  import Button, { Label } from '@smui/button';

  export let open = false;
  export let isLoading = true;
  export let data: any = null;
</script>

<Dialog
  bind:open
  scrimClickAction=""
  escapeKeyAction=""
  aria-labelledby="mandatory-title"
  aria-describedby="mandatory-content"
  surface$style="width: 500px; max-width: calc(100vw - 32px);"
>
  <Title id="mandatory-title">
    {#if isLoading}ìƒí’ˆ ë“±ë¡ ì¤‘ ğŸ¤–{/if}
    {#if data !== null}ìƒí’ˆ ë“±ë¡ ì„±ê³µ ğŸ”¥{/if}
  </Title>
  <Content id="mandatory-content">
    {#if isLoading}
      <h3>ì´ë”ë¦¬ì›€ ë¸”ë¡ì²´ì¸ì— ìƒˆë¡œìš´ ìƒí’ˆì„ ì¶”ê°€ ì¤‘ ì…ë‹ˆë‹¤..</h3>
      <div class="loading-video-container">
        <video
          src="/mining-simpsons.mp4"
          autoplay
          loop
          muted
          playsInline
          webkit-playsInline
          class="loading-video"
        >
          <track kind="captions" />
        </video>
      </div>
    {/if}

    {#if data !== null}
      <h3 class="product-name">M1X Macbook pro 16inch, 2022</h3>
      <div class="product-image-container">
        <img
          src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/mbp14-spacegray-select-202110_GEO_KR?wid=452&hei=420&fmt=jpeg&qlt=95&.v=1633657358000"
          alt="macbook"
          class="product-image"
        />
      </div>
      <p class="product-description">
        M1X Macbook pro 16inch, 2022 64Gb 8TB<br />Final cut pro, Logic pro
      </p>
    {/if}
  </Content>
  <Actions>
    <Button>
      <Label>ë‚´ ìƒí’ˆìœ¼ë¡œ ì´ë™</Label>
    </Button>
  </Actions>
</Dialog>

<style>
  .loading-video-container {
    display: flex;
    justify-content: center;
  }
  .loading-video {
    width: 400px;
  }
  .product-image-container {
    display: flex;
    justify-content: center;
  }
  .product-image {
    height: 160px;
  }
</style>
